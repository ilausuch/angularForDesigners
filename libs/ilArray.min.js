ilArray={accentFold:function(r){return void 0===r?"":(r=""+r,r.toLowerCase().replace(/([àáâãäå])|([ç])|([èéêë])|([ìíîï])|([ñ])|([òóôõöø])|([ß])|([ùúûü])|([ÿ])|([æ])/g,function(r,t,e,o,i,n,a,c,d,s,u){return t?"a":e?"c":o?"e":i?"i":n?"n":a?"o":c?"s":d?"u":s?"y":u?"ae":void 0}))}},Array.prototype.exists=function(r){return void 0!=this.index(r)},Array.prototype.add=function(r,t){return void 0==r||null==r||!t&&this.exists(r)||this.push(r),this},Array.prototype.addArray=function(r,t){var e=this;return r.forEach(function(r){e.add(r,t)},this),this},Array.prototype.del=function(r){var t=this.index(r);return void 0!==t&&void this.delByIndex(t)},Array.prototype.delByField=function(r,t){var e=this.indexByField(r,t);return void 0!==e&&void this.delByIndex(e)},Array.prototype.delByIndex=function(r){this.splice(r,1)},Array.prototype.index=function(r){for(var t=0;t<this.length;t++)if(this[t]===r)return t},Array.prototype.indexByField=function(r,t){for(var e=0;e<this.length;e++)if(this[e][r]===t)return e},Array.prototype.clone=function(){var r=[];return this.forEach(function(t){r.push(t)}),r},Array.prototype.intersectionWith=function(r){var t=[];return this.forEach(function(e){r.forEach(function(r){e===r&&t.push(e)},t,e)},t),t},Array.prototype.unionWith=function(r){var t=this.clone();return r.forEach(function(r){void 0===t.index(r)&&t.push(r)}),t},Array.prototype.getByField=function(r,t){return this.searchOne(r,t,"=")},Array.prototype.search=function(r,t,e,o){if(Array.isArray(t))var i=t;else var i=[t];void 0===i&&console&&console.debug("Invalid fields"),e=e||"normal";var n=[];return i.forEach(function(r){n.push({field:r,method:e})}),this.searchAdvanced(r,n,o)},Array.prototype.searchOne=function(r,t,e,o){var i=this.search(r,t,e,o);return void 0===i?void 0:i[0]},Array.prototype.searchAdvanced=function(r,t,e){void 0===t&&console&&console.debug("Invalid config"),void 0===e&&(e=!0),e&&(r=ilArray.accentFold(r));var o=[];return this.forEach(function(i){t.forEach(function(t){switch(e?ivalue=ilArray.accentFold(i[t.field]):ivalue=i[t.field],method=t.method||"normal",method){case"startWith":case"sw":ivalue.substr(0,r.length)===r&&o.add(i);break;case"anyPosition":case"normal":ivalue.search(r)>=0&&o.add(i);break;case"anyWord":case"aw":var n=r.split(" ");void 0!==n&&n.some(function(r){if(ivalue.search(r)>=0)return o.add(i),!0});break;case"allWords":var n=r.split(" ");if(void 0!==n){var a=!0;n.forEach(function(r){ivalue.search(r)<0&&(a=!1)}),a&&o.add(i)}break;case"fnc":t.filter(ivalue,r)&&o.add(i);break;case"completeWord":case"=":default:ivalue===r&&o.add(i)}})}),o},Array.prototype.sortAlphabeticallyByField=function(r,t){function e(r,t){if(void 0==t||t)return r.toUpperCase()}this.sort(function(o,i){return e(o[r],t)<e(i[r],t)?-1:e(o[r],t)>e(i[r],t)?1:0})},Array.prototype.extractUniqueArray=function(){var r=[];return this.forEach(function(t){r.add(t)}),r},Array.prototype.extractUniqueArrayByField=function(r){var t=[];return this.forEach(function(e){t.forEach(function(o){e[r]!==o[r]&&t.add(e)})}),t};